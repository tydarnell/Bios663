knitr::opts_chunk$set(echo = TRUE,warning=F, message=F)
library(tidyverse)
library(knitr)
library(data.table)
library(matlib)
hw3=fread("FILEN.DAT")
cnames=c("id","year","cohort","date","days","timess","height","weight","age","area","temp","barom","humid","avtrel","avtrsp","avfvc")
colnames(hw3)=cnames
hw3$weight=as.numeric(hw3$weight)
hw3=hw3%>%filter(!is.na(weight))
hw3=hw3%>%mutate(bmi=weight/((height/100)^2))
?pcor.test
install.packages("ppcor"
)
library(ppcor)
knitr::opts_chunk$set(echo = TRUE,warning=F, message=F)
library(tidyverse)
library(knitr)
library(data.table)
library(matlib)
library(ppcor)
hw3=fread("FILEN.DAT")
cnames=c("id","year","cohort","date","days","timess","height","weight","age","area","temp","barom","humid","avtrel","avtrsp","avfvc")
colnames(hw3)=cnames
hw3$weight=as.numeric(hw3$weight)
hw3=hw3%>%filter(!is.na(weight))
hw3=hw3%>%mutate(bmi=weight/((height/100)^2))
pcor.test(dat1$AVFVC, dat1$age, dat1[,c("height", "weight", "bmi", "area", "avtrel", "avtrsp", "temp","barom","humid")])
pcor.test(dat1$AVFVC, dat1$age, hw3[,c("height", "weight", "bmi", "area", "avtrel", "avtrsp", "temp","barom","humid")])
pcor.test(hw3$avfvc, hw3$age, hw3[,c("height", "weight", "bmi", "area", "avtrel", "avtrsp", "temp","barom","humid")])
spcor.test(hw3$avfvc, hw3$age, hw3[,c("height", "weight2", "bmi", "area", "avtrel", "avtrsp", "temp","barom","humid")])
spcor.test(hw3$avfvc, hw3$age, hw3[,c("height", "weight", "bmi", "area", "avtrel", "avtrsp", "temp","barom","humid")])
cor.test(hw3$age, hw3$avfvc)
mod=lm(data = hw3, avfvc ~ height + weight + bmi + area + age + AVTREL + AVTRSP + avtrel*avtrsp+ temp + barom + humid)
mod=lm(data = hw3, avfvc ~ height + weight + bmi + area + age + avtrel + avtrsp + avtrel*avtrsp+ temp + barom + humid)
mod
mod=lm(data = hw3, avfvc ~ height + weight + bmi + area + age + avtrel + avtrsp + avtrel*avtrsp+ temp + barom + humid)
datresid=mutate(resid=resid(mod))%>%mutate(sresid=abs(studres(mod)))
mod=lm(data = hw3, avfvc ~ height + weight + bmi + area + age + avtrel + avtrsp + avtrel*avtrsp+ temp + barom + humid)
datresid= hw3%>%mutate(resid=resid(mod))%>%mutate(sresid=abs(studres(mod)))
datresid
topresid=datresid%>%mutate(absresid=abs(resid))%>%top_n(n=5,wt=sresid)%>%select(id,sresid)%>%arrange(desc(sresid))
mod=lm(data = hw3, avfvc ~ height + weight + bmi + area + age + avtrel + avtrsp + avtrel*avtrsp+ temp + barom + humid)
datresid=hw3%>%mutate(resid=resid(mod))%>%mutate(sresid=abs(studres(mod)))
topresid=datresid%>%mutate(absresid=abs(resid))%>%top_n(n=5,wt=sresid)%>%select(id,sresid)%>%arrange(desc(sresid))
datresid
topresid=datresid%>%mutate(absresid=abs(resid))%>%top_n(n=5,wt=sresid)
topresid
topresid%>%select(id,sresid)
topresid%>%select(c(id,sresid))
topresid
topresid%>%dplyr::select(c(id,sresid))
topresid%>%dplyr::select(c(id,sresid))%>%arrange(desc(sresid))
shapiro.test(studres(mod))
plot(mod$fitted.values,studres(mod))
d=c(22,23.9,20.9,23.8,25,24,21.7,23.8,22.8,23.1,23.5,23,23)
d
length(d)
sum(d)
log(3005.)
log(300.5.=)
log(300.5)
log(d)
sum(log(d))
sum(log(d))+log(25)
(log(25)-sum(log(d)))/13
(log(25)-sum(log(d)))
(log(25)-sum(log(d)))
13/(13*log(25)-sum(log(d)))
sum(log(d))
